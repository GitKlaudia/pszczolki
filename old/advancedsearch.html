<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="styles/common.css" rel="stylesheet">
      <link href="styles/advsearch.css" rel="stylesheet">
    <title>B-Movie - Wyszukiwanie zaawansowane</title>
</head>
<body class="advancedSearchBody">
    <header>
        <a href="index.php" id="headerLogoAndTitle" style="text-decoration: none;">
            <img id="headerLogo" src="styles/logo.svg">
            <div id="headerTitle">B-Movie</div>
        </a>
        <div id="centerSection">
            <div id="searchBar">
                <input type="text" id="searchInput" placeholder="Wyszukaj...">
                <img id="searchIcon" src="styles/searchIcon.svg">
            </div>
        </div>
        <div id="adminBtn">
            <div id="adminBtnText">Admin</div>
            <img id="adminBtnIcon" src="styles/adminIcon.svg">
        </div>
    </header>

    <main id="advancedSearchWrapper">
        <h1 id="advancedSearchTitle">Wyszukiwanie zaawansowane</h1>

        <section class="searchSection">
            <h2 class="searchSectionHeader">kategoria</h2>
            <div class="tagGroup">
                <button class="searchTag">kat1</button>
                <button class="searchTag">kat2</button>
                <button class="searchTag active">kat3</button>
                <button class="searchTag">kat4</button>
                <button class="searchTag">kat5</button>
                <button class="searchTag">kat6</button>
                <button class="searchTag">kat7</button>
                <button class="searchTag">kat8</button>
                <button class="searchTag">kat9</button>
            </div>
        </section>

        <section class="searchSection">
            <h2 class="searchSectionHeader">reżyser</h2>
            <div class="inputWithSuggestions">
                <input type="text" class="advancedSearchInput" placeholder="Wyszukaj...">
            </div>
        </section>

        <section class="searchSection">
            <h2 class="searchSectionHeader">obsada</h2>
            <div class="castSearchRow">
                <div class="inputWithSuggestions">
                    <input type="text" class="advancedSearchInput" placeholder="Wyszukaj...">
                    <div class="suggestionsBox">
                        <div class="suggestion">podpowiedź1</div>
                        <div class="suggestion">podpowiedź2</div>
                        <div class="suggestion">podpowiedź3</div>
                    </div>
                </div>
                <button class="addActorBtn">+</button>
                <div class="selectedTags">
                    <button class="searchTag active">aktor1</button>
                </div>
            </div>
        </section>

        <section class="searchSection">
            <h2 class="searchSectionHeader">platforma</h2>
            <div class="tagGroup">
                <button class="searchTag active">p1</button>
                <button class="searchTag active">p2</button>
                <button class="searchTag">p3</button>
            </div>
        </section>

        <section class="searchSection">
            <h2 class="searchSectionHeader">typ</h2>
            <div class="tagGroup">
                <button class="searchTag">film</button>
                <button class="searchTag active">serial</button>
            </div>
        </section>

        <button id="finalSearchBtn">Wyszukaj</button>
    </main>

</body>
<script>
document.addEventListener('DOMContentLoaded', () => {
    
    document.querySelectorAll('.suggestion').forEach(item => {
        item.addEventListener('mousedown', (e) => {
            const text = e.target.innerText;
            const container = e.target.closest('.inputWithSuggestions');
            const input = container.querySelector('input');
            input.value = text;
            input.blur(); 
        });
    });

    const allTags = document.querySelectorAll('.searchTag');
    allTags.forEach(tag => {
        tag.addEventListener('click', function() {
            const section = this.closest('.searchSection');
            const sectionHeader = section.querySelector('.searchSectionHeader').innerText.toLowerCase();

            if (sectionHeader === 'typ') {
                const siblings = section.querySelectorAll('.searchTag');
                siblings.forEach(s => s.classList.remove('active'));
                this.classList.add('active');
            } else {
                this.classList.toggle('active');
            }
        });
    });
});
</script>
</html>